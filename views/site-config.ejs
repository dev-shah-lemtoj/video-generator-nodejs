<% var title = "Site Config"; %>
<%- contentFor('HeaderCss') %>
<style>
  #apiKeyContainer {
    width: 300px;
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
    filter: blur(5px);
    transition: filter 0.3s ease;
    user-select: none;
    cursor: pointer;
    color: transparent; /* hide text while blurred */
    background-color: #f0f0f0;
  }

  #apiKeyContainer:hover {
    filter: none;
    color: black;
    user-select: text;
    cursor: text;
  }
</style>


<%- contentFor('body') %>
<div class="page-content">
  <div class="container-fluid">
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="card">
          <div class="card-header">
            <h4 class="card-title mb-0">Site Configuration</h4>
          </div>
          <div class="card-body">
            <form action="/admin/site-config" method="POST" enctype="multipart/form-data">
              <!-- Site Config fields -->
              <div class="mb-3">
                <label for="siteTitle" class="form-label">Site Title</label>
                <input type="text" id="siteTitle" name="siteTitle" class="form-control" required />
              </div>

              <div class="mb-3">
                <label for="siteLogo" class="form-label">Site Logo</label><br />
                <% if (typeof siteLogo !== 'undefined' && siteLogo) { %>
                  <img src="/uploads/<%= siteLogo %>" alt="Current Logo" style="height:50px;" class="mb-2 d-block" />
                <% } %>
                <input type="file" id="siteLogo" name="siteLogo" class="form-control" accept="image/*" />
              </div>

              <div class="mb-3">
                <label for="siteFavicon" class="form-label">Site Favicon</label><br />
                <% if (typeof siteFavicon !== 'undefined' && siteFavicon) { %>
                  <img src="/uploads/<%= siteFavicon %>" alt="Current Favicon" style="height:20px;" class="mb-2 d-block" />
                <% } %>
                <input type="file" id="siteFavicon" name="siteFavicon" class="form-control" accept="image/x-icon,image/png" />
              </div>

              <button type="submit" name="action" value="saveSiteConfig" class="btn btn-primary">Save Site Config</button>

              <hr class="my-4" />

              <!-- API Config fields -->
              <div class="mb-3">
                <label for="apiSecretKey" class="form-label">API Secret Key</label>
                <input type="text" id="apiSecretKey" name="apiSecretKey" class="form-control" value="your-api-key-here" />
            </div>
              <div class="mb-3">
                <label for="siteId" class="form-label">Site ID</label>
                <input type="text" id="siteId" name="siteId" class="form-control" />
              </div>

              <div class="mb-3">
                <label for="mediaId" class="form-label">Media ID</label>
                <input type="text" id="mediaId" name="mediaId" class="form-control" />
              </div>

              <button type="submit" name="action" value="saveApiConfig" class="btn btn-primary">Save API Config</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<%- contentFor('FooterJs') %>
